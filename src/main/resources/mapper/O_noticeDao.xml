<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.springlec.base.dao.O_noticeDao">

<!-- 공지 목록 가져오기 (검색 기능 포함) -->
<select id="getNoticeList" resultType="com.springlec.base.model.O_noticeDto">
	SELECT *
	FROM notice
	WHERE isdelete = 0 AND category = '공지' AND ${queryName} like #{queryContent}
	ORDER BY writedate DESC
	LIMIT #{itemPerPage} OFFSET #{startNum}
</select>

<!-- 공지사항 게시물 수 카운트 -->
<select id="getNoticeCount" resultType="java.lang.Integer">
	SELECT COUNT(*)
	FROM notice
    WHERE isdelete = 0 AND category = '공지' AND ${queryName} like #{queryContent}
</select>

</mapper>